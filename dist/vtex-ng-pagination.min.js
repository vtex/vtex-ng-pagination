/* vtex-ng-pagination - v0.1.2 @github.com/vtex/ng-pagination */
angular.module("vtex.ngPagination",[]).directive("vtPagination",["$location","$parse",function(a,b){return{restrict:"E",scope:{itemCount:"=itemCount",pageCount:"=pageCount",currentPage:"=currentPage",perPage:"=perPage",perPageOptions:"@perPageOptions",useSearch:"=search"},templateUrl:"vtex-ng-pagination.html",link:function(c){c.disablePrevious="disabled",c.disableNext="",c.perPage=c.perPage||15,c.currentPage=c.currentPage||1,c.currentPageDisplay=c.currentPage||1,c.perPageOptions=b(c.perPageOptions),c.perPageOptions&&c.perPageOptions.constructor===Array&&c.perPageOptions.length&&"default"!==c.perPageOptions||(c.perPageOptions=[{index:1,num:15},{index:2,num:30},{index:3,num:50},{index:4,num:100}]),c.$watch("pageCount",function(){c.verifyBtns(c.currentPage)}),c.$watch("currentPage",function(a){c.currentPageDisplay=a,c.verifyBtns(c.currentPageDisplay)}),c.setCurrentPage=function(b){isNaN(b)||(b&&0>=b?c.currentPage=1:b&&b>c.pageCount?c.currentPage=c.pageCount?c.pageCount:1:b!=c.currentPage&&(c.currentPage=b),c.useSearch&&a.search("page",c.currentPage)),c.currentPageDisplay=c.currentPage},c.pageInputBlur=function(a){c.setCurrentPage(Number(a.target.value))},c.pageInputKeyPress=function(a){13==a.charCode&&($(".pagination input").off("blur").blur().on("blur",function(a){c.pageInputBlur(a),c.$$phase||c.$digest()}),c.setCurrentPage(Number(a.target.value)))},c.verifyBtns=function(a){c.disablePrevious=a>1&&a<=c.pageCount?"":"disabled",c.disableNext=a<c.pageCount?"":"disabled"},c.changePage=function(b){"next"===b&&c.currentPage<c.pageCount?c.currentPage=Math.ceil(Number(c.currentPage))+1:"prev"===b&&c.currentPage>1&&c.currentPage<=c.pageCount&&(c.currentPage=Math.ceil(Number(c.currentPage))-1),c.useSearch&&a.search("page",c.currentPage)},c.setNumItemsPerPage=function(b){c.perPage=b,c.currentPageDisplay=c.currentPage=1,c.useSearch&&(a.search("per_page",c.perPage),a.search("page",1))},c.addHtmlListeners=function(){$("html").on("click",".dropdown-toggle",function(){var a=$(".list-control").last().find(".dropdown-toggle"),b=a.offset();$("html").height()-b.top<=200&&a.parent().removeClass("dropdown").addClass("dropup")})},c.addHtmlListeners()}}}]),angular.module("vtex.ngPagination").run(["$templateCache",function(a){"use strict";a.put("vtex-ng-pagination.html",'<div class="vt-pagination-container">\n    <div class="list-control list-control-bottom pull-right" ng-show="!hidePagination && !hidePagination || (itemCount > 15)">\n        <ul class="nav nav-pills pull-left">\n            <li class="padding muted"><span translate>pagination.total</span>: <strong>{{ itemCount }}</strong></li>\n            <li class="padding muted vtex-showing"><span translate>pagination.perPage</span>:</li>\n            <li class="dropdown" dropdown>\n                <a class="dropdown-toggle" dropdown-toggle role="button" data-toggle="dropdown" href>\n                    <strong>{{ perPage }}</strong> <b class="caret"></b>\n                </a>\n                <ul class="dropdown-menu pagination-menu">\n                    <li>\n                        <a tabindex="-1" ng-click="setNumItemsPerPage(option.num)"\n                           ng-repeat="option in perPageOptions">{{ option.num }}</a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n\n        <div class="pagination pull-left">\n            <ul>\n                <li ng-class="disablePrevious">\n                    <a title="P치gina anterior" ng-click="changePage(\'prev\')"\n                       ga-event ga-label="pagination-previous-page">\n                        <i class="icon-caret-left"></i>\n                    </a>\n                </li>\n                <li>\n                    <input class="input-mini pull-left" type="text"\n                           ng-model="currentPageDisplay"\n                           ng-blur="pageInputBlur($event)"\n                           ng-keypress="pageInputKeyPress($event)"\n                           data-original-title="P치gina {{ currentPage }} de {{ pageCount }}"\n                           ga-event ga-category="input" ga-action="focus" ga-label="pagination-input">\n                </li>\n                <li ng-class="disableNext">\n                    <a title="Pr칩xima p치gina" ng-click="changePage(\'next\')"\n                       ga-event ga-label="pagination-next-page">\n                        <i class="icon-caret-right"></i>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n')}]);
//# sourceMappingURL=vtex-ng-pagination.min.js.map