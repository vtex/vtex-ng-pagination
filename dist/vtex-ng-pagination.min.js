/* vtex-ng-pagination - v0.1.0 @github.com/vtex/ng-pagination */
angular.module("vtex.ngPagination",[]).directive("vtPagination",["$location",function(a){return{restrict:"E",scope:{itemCount:"=itemCount",pageCount:"=pageCount",currentPage:"=currentPage",perPage:"=perPage",useSearch:"=search"},templateUrl:"vtex-ng-pagination.html",link:function(b){b.disablePrevious="disabled",b.disableNext="",b.perPage=b.perPage||15,b.currentPage=b.currentPage||1,b.currentPageDisplay=b.currentPage||1,b.perPageOptions=[{index:1,num:15},{index:2,num:30},{index:3,num:50},{index:4,num:100}],b.$watch("pageCount",function(){b.verifyBtns(b.currentPage)}),b.$watch("currentPage",function(a){b.currentPageDisplay=a,b.verifyBtns(b.currentPageDisplay)}),b.setCurrentPage=function(c){isNaN(c)||(c&&0>=c?b.currentPage=1:c&&c>b.pageCount?b.currentPage=b.pageCount?b.pageCount:1:c!=b.currentPage&&(b.currentPage=c),b.useSearch&&a.search("page",b.currentPage)),b.currentPageDisplay=b.currentPage},b.pageInputBlur=function(a){b.setCurrentPage(Number(a.target.value))},b.pageInputKeyPress=function(a){13==a.charCode&&($(".pagination input").off("blur").blur().on("blur",function(a){b.pageInputBlur(a),b.$$phase||b.$digest()}),b.setCurrentPage(Number(a.target.value)))},b.verifyBtns=function(a){b.disablePrevious=a>1&&a<=b.pageCount?"":"disabled",b.disableNext=a<b.pageCount?"":"disabled"},b.changePage=function(c){"next"===c&&b.currentPage<b.pageCount?b.currentPage=Math.ceil(Number(b.currentPage))+1:"prev"===c&&b.currentPage>1&&b.currentPage<=b.pageCount&&(b.currentPage=Math.ceil(Number(b.currentPage))-1),b.useSearch&&a.search("page",b.currentPage)},b.setNumItemsPerPage=function(c){b.perPage=c,b.currentPageDisplay=b.currentPage=1,b.useSearch&&(a.search("per_page",b.perPage),a.search("page",1))},b.addHtmlListeners=function(){$("html").on("click",".dropdown-toggle",function(){var a=$(".list-control").last().find(".dropdown-toggle"),b=a.offset();$("html").height()-b.top<=200&&a.parent().removeClass("dropdown").addClass("dropup")})},b.addHtmlListeners()}}}]),angular.module("vtex.ngPagination").run(["$templateCache",function(a){"use strict";a.put("vtex-ng-pagination.html",'<div class="vt-pagination-container">\n    <div class="list-control list-control-bottom pull-right" ng-show="!hidePagination && !hidePagination || (itemCount > 15)">\n        <ul class="nav nav-pills pull-left">\n            <li class="padding muted">Itens: <strong>{{ itemCount }}</strong></li>\n            <li class="padding muted vtex-showing">Exibindo:</li>\n            <li class="dropdown">\n                <a class="dropdown-toggle" role="button" data-toggle="dropdown" href="javascript:void(0)">\n                    <strong>{{ perPage }}</strong> <b class="caret"></b>\n                </a>\n                <ul class="dropdown-menu pagination-menu">\n                    <li>\n                        <a tabindex="-1" ng-click="setNumItemsPerPage(option.num)"\n                           ng-repeat="option in perPageOptions">{{ option.num }}</a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n\n        <div class="pagination pull-left">\n            <ul>\n                <li ng-class="disablePrevious">\n                    <a title="P치gina anterior" ng-click="changePage(\'prev\')"><i class="icon-caret-left"></i></a>\n                </li>\n                <li>\n                    <input class="input-mini pull-left" type="text"\n                           ng-model="currentPageDisplay"\n                           ng-blur="pageInputBlur($event)"\n                           ng-keypress="pageInputKeyPress($event)"\n                           data-original-title="P치gina {{ currentPage }} de {{ pageCount }}">\n                </li>\n                <li ng-class="disableNext">\n                    <a title="Pr칩xima p치gina" ng-click= "changePage(\'next\')"><i class="icon-caret-right"></i></a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n')}]);
//# sourceMappingURL=vtex-ng-pagination.min.js.map