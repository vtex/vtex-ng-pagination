/* vtex-ng-pagination - v0.2.0 @github.com/vtex/ng-pagination */
angular.module("vtex.ngPagination",[]).directive("vtPagination",["$location","$parse",function(a,b){return{restrict:"E",scope:{itemCount:"=itemCount",pageCount:"=pageCount",currentPage:"=currentPage",perPage:"=perPage",perPageOptions:"@perPageOptions",useSearch:"=search",maxPage:"=maxPage"},templateUrl:"vtex-ng-pagination.html",link:function(c){c.disablePrevious="disabled",c.disableNext="",c.perPage=c.perPage||15,c.currentPage=c.currentPage||1,c.currentPageDisplay=c.currentPage,c.maxPage=Math.min(c.maxPage||1e5,c.pageCount),c.perPageOptions=b(c.perPageOptions),c.perPageOptions&&c.perPageOptions.constructor===Array&&c.perPageOptions.length&&"default"!==c.perPageOptions||(c.perPageOptions=[{index:1,num:15},{index:2,num:30},{index:3,num:50},{index:4,num:100}]),c.$watch("pageCount",function(){c.verifyBtns(c.currentPage)}),c.$watch("currentPage",function(a){c.currentPageDisplay=Math.min(a,c.maxPage),c.verifyBtns(c.currentPageDisplay)}),c.setCurrentPage=function(b){b&&0>=b?c.currentPage=1:c.currentPage=Math.min(b,c.maxPage),c.useSearch&&a.search("page",c.currentPage),c.currentPageDisplay=c.currentPage},c.pageInputBlur=function(a){c.setCurrentPage(Number(a.target.value))},c.pageInputKeyPress=function(a){13==a.charCode&&($(".pagination input").off("blur").blur().on("blur",function(a){c.pageInputBlur(a),c.$$phase||c.$digest()}),c.setCurrentPage(Number(a.target.value)))},c.verifyBtns=function(a){c.disablePrevious=a>1&&a<=c.pageCount?"":"disabled",c.disableNext=a<c.pageCount&&a<c.maxPage?"":"disabled"},c.changePage=function(b){"next"===b&&c.currentPage<c.pageCount?c.currentPage=Math.ceil(Number(c.currentPage))+1:"prev"===b&&c.currentPage>1&&c.currentPage<=c.pageCount&&(c.currentPage=Math.ceil(Number(c.currentPage))-1),c.useSearch&&a.search("page",c.currentPage)},c.setNumItemsPerPage=function(b){c.perPage=b,c.currentPageDisplay=c.currentPage=1,c.useSearch&&(a.search("per_page",c.perPage),a.search("page",1))},c.addHtmlListeners=function(){$("html").on("click",".dropdown-toggle",function(){var a=$(".list-control").last().find(".dropdown-toggle"),b=a.offset();$("html").height()-b.top<=200&&a.parent().removeClass("dropdown").addClass("dropup")})},c.addHtmlListeners()}}}]),angular.module("vtex.ngPagination").run(["$templateCache",function(a){"use strict";a.put("vtex-ng-pagination.html",'<div class="vt-pagination-container">\n  <div\n    class="list-control list-control-bottom pull-right"\n    ng-show="!hidePagination && !hidePagination || (itemCount > 15)"\n  >\n    <ul class="nav nav-pills pull-left">\n      <li class="padding muted">\n        <span translate>pagination.total</span>:\n        <strong>{{ itemCount }}</strong>\n      </li>\n      <li class="padding muted vtex-showing">\n        <span translate>pagination.perPage</span>:\n      </li>\n      <li class="dropdown" dropdown>\n        <a\n          class="dropdown-toggle"\n          dropdown-toggle\n          role="button"\n          data-toggle="dropdown"\n          href\n        >\n          <strong>{{ perPage }}</strong> <b class="caret"></b>\n        </a>\n        <ul class="dropdown-menu pagination-menu">\n          <li>\n            <a\n              tabindex="-1"\n              ng-click="setNumItemsPerPage(option.num)"\n              ng-repeat="option in perPageOptions"\n              >{{ option.num }}</a\n            >\n          </li>\n        </ul>\n      </li>\n    </ul>\n\n    <div class="pagination pull-left">\n      <ul>\n        <li ng-class="disablePrevious">\n          <a\n            title="P치gina anterior"\n            ng-click="changePage(\'prev\')"\n            ga-event\n            ga-label="pagination-previous-page"\n          >\n            <i class="icon-caret-left"></i>\n          </a>\n        </li>\n        <li>\n          <input\n            class="input-mini pull-left"\n            type="number"\n            min="1"\n            max="{{ maxPage }}"\n            ng-model="currentPageDisplay"\n            ng-blur="pageInputBlur($event)"\n            ng-keypress="pageInputKeyPress($event)"\n            data-original-title="P치gina {{ currentPage }} de {{ pageCount }}"\n            ga-event\n            ga-category="input"\n            ga-action="focus"\n            ga-label="pagination-input"\n          />\n        </li>\n        <li ng-class="disableNext">\n          <a\n            title="Pr칩xima p치gina"\n            ng-click="changePage(\'next\')"\n            ga-event\n            ga-label="pagination-next-page"\n          >\n            <i class="icon-caret-right"></i>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]);
//# sourceMappingURL=vtex-ng-pagination.min.js.map